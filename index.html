<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>éƒ½é“åºœçœŒå½¢å½“ã¦ã‚²ãƒ¼ãƒ ï¼ˆå®Œå…¨ç‰ˆï¼‰</title>
<style>
body{
  font-family: 'Roboto', sans-serif;
  display:flex;
  flex-direction:column;
  align-items:center;
  margin:0;
  padding:10px;
  min-height:100vh;
  background: linear-gradient(to bottom, #89f7fe, #66a6ff);
}
button{
  font-size:18px;
  padding:14px;
  margin:5px;
  border:none;
  border-radius:12px;
  width:90%;
  max-width:400px;
  cursor:pointer;
  transition: all 0.2s;
}
button:hover{
  transform: scale(1.05);
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}
#checkBtn, #hintBtn, #backBtn {
  display: block;             /* ç¸¦ä¸¦ã³ */
  width: 100%;                /* æ¨ªå¹…ã„ã£ã±ã„ */
  max-width: 400px;           /* æœ€å¤§å¹…ã‚’400pxã«å›ºå®š */
  margin: 10px auto;          /* å·¦å³ãƒãƒ¼ã‚¸ãƒ³è‡ªå‹• â†’ ä¸­å¤®å¯„ã› */
  font-size: 20px;            /* æ–‡å­—ã‚µã‚¤ã‚º */
  padding: 14px;              /* é«˜ã•èª¿æ•´ */
  box-sizing: border-box;     /* ã‚µã‚¤ã‚ºè¨ˆç®—ã‚’å®‰å®šã•ã›ã‚‹ */
}
#checkBtn{background:#4CAF50;color:white;}
#hintBtn{background:#2196F3;color:white;}
#backBtn{background:#f44336;color:white;}
#prefImg{
  width:300px;
  height:300px;
  object-fit: contain;
  margin:10px 0;
  border-radius:16px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}
#hint{
  width:90%;
  max-width:400px;
  min-height:50px;
  margin:5px 0;
  background:#eef;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:16px;
  border-radius:8px;
  display:none;
}
#result{
  width:90%;
  max-width:400px;
  min-height:40px;
  text-align:center;
  font-size:18px;
}
input{
  font-size:18px;
  padding:12px;
  margin:5px 0;
  border-radius:8px;
  width:90%;
  max-width:400px;
  border:1px solid #ccc;
}
.correct{color:#0a0;font-weight:bold; animation: pop 0.3s;}
.wrong{color:#c00;font-weight:bold; animation: shake 0.3s;}
#score{margin:5px;font-size:16px;white-space:pre-line;}
#modeSelect, #gameArea{
  display:flex;
  flex-direction:column;
  align-items:center;
  width:100%;
  max-width:400px;
}
#gameArea{
  background: rgba(255,255,255,0.9);
  padding:20px;
  border-radius:16px;
  box-shadow:0 8px 20px rgba(0,0,0,0.2);
}
.buttons{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:5px;
}
@keyframes pop{
  0%{transform: scale(0.5);}
  100%{transform: scale(1);}
}
@keyframes shake{
  0%,100%{transform: translateX(0);}
  20%,60%{transform: translateX(-5px);}
  40%,80%{transform: translateX(5px);}
}
</style>
</head>
<body>

<div id="modeSelect">
  <h2>ãƒ¢ãƒ¼ãƒ‰ã‚’é¸ã‚“ã§ã­</h2>
  <button onclick="startMode('tohoku')">æ±åŒ—åœ°æ–¹ï¼ˆåŒ—æµ·é“å«ã‚€ï¼‰</button>
  <button onclick="startMode('kanto')">é–¢æ±åœ°æ–¹</button>
  <button onclick="startMode('chubu')">ä¸­éƒ¨åœ°æ–¹</button>
  <button onclick="startMode('kinki')">è¿‘ç•¿åœ°æ–¹</button>
  <button onclick="startMode('chugoku')">ä¸­å›½åœ°æ–¹</button>
  <button onclick="startMode('shikoku')">å››å›½åœ°æ–¹</button>
  <button onclick="startMode('kyushu')">ä¹å·åœ°æ–¹</button>
  <button onclick="startMode('all')">47éƒ½é“åºœçœŒ</button>
</div>

<div id="gameArea" style="display:none;">
  <img id="prefImg" src="" alt="éƒ½é“åºœçœŒã®å½¢">
  <div id="result"></div>
  <input type="text" id="guess" placeholder="éƒ½é“åºœçœŒåã‚’å…¥åŠ›">
  <div class="buttons">
    <button id="checkBtn">ç­”ãˆåˆã‚ã›</button>
    <button id="hintBtn">ãƒ’ãƒ³ãƒˆã‚’è¦‹ã‚‹</button>
  </div>
  <div id="hint"></div>
  <button id="backBtn">ãƒ¢ãƒ¼ãƒ‰é¸æŠã«æˆ»ã‚‹</button>
  <p id="score"></p>
</div>

<script>
// å…¨47éƒ½é“åºœçœŒãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ’ãƒ³ãƒˆã¯çœŒåºæ‰€åœ¨åœ°ï¼‰
const prefectures = [
{name:'åŒ—æµ·é“', img:'hokkaido.png', region:'æ±åŒ—åœ°æ–¹', hint:'æœ­å¹Œå¸‚'},
{name:'é’æ£®çœŒ', img:'aomori.png', region:'æ±åŒ—åœ°æ–¹', hint:'é’æ£®å¸‚'},
{name:'å²©æ‰‹çœŒ', img:'iwate.png', region:'æ±åŒ—åœ°æ–¹', hint:'ç››å²¡å¸‚'},
{name:'å®®åŸçœŒ', img:'miyagi.png', region:'æ±åŒ—åœ°æ–¹', hint:'ä»™å°å¸‚'},
{name:'ç§‹ç”°çœŒ', img:'akita.png', region:'æ±åŒ—åœ°æ–¹', hint:'ç§‹ç”°å¸‚'},
{name:'å±±å½¢çœŒ', img:'yamagata.png', region:'æ±åŒ—åœ°æ–¹', hint:'å±±å½¢å¸‚'},
{name:'ç¦å³¶çœŒ', img:'fukushima.png', region:'æ±åŒ—åœ°æ–¹', hint:'ç¦å³¶å¸‚'},
{name:'èŒ¨åŸçœŒ', img:'ibaraki.png', region:'é–¢æ±åœ°æ–¹', hint:'æ°´æˆ¸å¸‚'},
{name:'æ ƒæœ¨çœŒ', img:'tochigi.png', region:'é–¢æ±åœ°æ–¹', hint:'å®‡éƒ½å®®å¸‚'},
{name:'ç¾¤é¦¬çœŒ', img:'gunma.png', region:'é–¢æ±åœ°æ–¹', hint:'å‰æ©‹å¸‚'},
{name:'åŸ¼ç‰çœŒ', img:'saitama.png', region:'é–¢æ±åœ°æ–¹', hint:'ã•ã„ãŸã¾å¸‚'},
{name:'åƒè‘‰çœŒ', img:'chiba.png', region:'é–¢æ±åœ°æ–¹', hint:'åƒè‘‰å¸‚'},
{name:'æ±äº¬éƒ½', img:'tokyo.png', region:'é–¢æ±åœ°æ–¹', hint:'æ–°å®¿åŒº'},
{name:'ç¥å¥ˆå·çœŒ', img:'kanagawa.png', region:'é–¢æ±åœ°æ–¹', hint:'æ¨ªæµœå¸‚'},
{name:'æ–°æ½ŸçœŒ', img:'niigata.png', region:'ä¸­éƒ¨åœ°æ–¹', hint:'æ–°æ½Ÿå¸‚'},
{name:'å¯Œå±±çœŒ', img:'toyama.png', region:'ä¸­éƒ¨åœ°æ–¹', hint:'å¯Œå±±å¸‚'},
{name:'çŸ³å·çœŒ', img:'ishikawa.png', region:'ä¸­éƒ¨åœ°æ–¹', hint:'é‡‘æ²¢å¸‚'},
{name:'ç¦äº•çœŒ', img:'fukui.png', region:'ä¸­éƒ¨åœ°æ–¹', hint:'ç¦äº•å¸‚'},
{name:'å±±æ¢¨çœŒ', img:'yamanashi.png', region:'ä¸­éƒ¨åœ°æ–¹', hint:'ç”²åºœå¸‚'},
{name:'é•·é‡çœŒ', img:'nagano.png', region:'ä¸­éƒ¨åœ°æ–¹', hint:'é•·é‡å¸‚'},
{name:'å²é˜œçœŒ', img:'gifu.png', region:'ä¸­éƒ¨åœ°æ–¹', hint:'å²é˜œå¸‚'},
{name:'é™å²¡çœŒ', img:'shizuoka.png', region:'ä¸­éƒ¨åœ°æ–¹', hint:'é™å²¡å¸‚'},
{name:'æ„›çŸ¥çœŒ', img:'aichi.png', region:'ä¸­éƒ¨åœ°æ–¹', hint:'åå¤å±‹å¸‚'},
{name:'ä¸‰é‡çœŒ', img:'mie.png', region:'è¿‘ç•¿åœ°æ–¹', hint:'æ´¥å¸‚'},
{name:'æ»‹è³€çœŒ', img:'shiga.png', region:'è¿‘ç•¿åœ°æ–¹', hint:'å¤§æ´¥å¸‚'},
{name:'äº¬éƒ½åºœ', img:'kyoto.png', region:'è¿‘ç•¿åœ°æ–¹', hint:'äº¬éƒ½å¸‚'},
{name:'å¤§é˜ªåºœ', img:'osaka.png', region:'è¿‘ç•¿åœ°æ–¹', hint:'å¤§é˜ªå¸‚'},
{name:'å…µåº«çœŒ', img:'hyogo.png', region:'è¿‘ç•¿åœ°æ–¹', hint:'ç¥æˆ¸å¸‚'},
{name:'å¥ˆè‰¯çœŒ', img:'nara.png', region:'è¿‘ç•¿åœ°æ–¹', hint:'å¥ˆè‰¯å¸‚'},
{name:'å’Œæ­Œå±±çœŒ', img:'wakayama.png', region:'è¿‘ç•¿åœ°æ–¹', hint:'å’Œæ­Œå±±å¸‚'},
{name:'é³¥å–çœŒ', img:'tottori.png', region:'ä¸­å›½åœ°æ–¹', hint:'é³¥å–å¸‚'},
{name:'å³¶æ ¹çœŒ', img:'shimane.png', region:'ä¸­å›½åœ°æ–¹', hint:'æ¾æ±Ÿå¸‚'},
{name:'å²¡å±±çœŒ', img:'okayama.png', region:'ä¸­å›½åœ°æ–¹', hint:'å²¡å±±å¸‚'},
{name:'åºƒå³¶çœŒ', img:'hiroshima.png', region:'ä¸­å›½åœ°æ–¹', hint:'åºƒå³¶å¸‚'},
{name:'å±±å£çœŒ', img:'yamaguchi.png', region:'ä¸­å›½åœ°æ–¹', hint:'å±±å£å¸‚'},
{name:'å¾³å³¶çœŒ', img:'tokushima.png', region:'å››å›½åœ°æ–¹', hint:'å¾³å³¶å¸‚'},
{name:'é¦™å·çœŒ', img:'kagawa.png', region:'å››å›½åœ°æ–¹', hint:'é«˜æ¾å¸‚'},
{name:'æ„›åª›çœŒ', img:'ehime.png', region:'å››å›½åœ°æ–¹', hint:'æ¾å±±å¸‚'},
{name:'é«˜çŸ¥çœŒ', img:'kochi.png', region:'å››å›½åœ°æ–¹', hint:'é«˜çŸ¥å¸‚'},
{name:'ç¦å²¡çœŒ', img:'fukuoka.png', region:'ä¹å·åœ°æ–¹', hint:'ç¦å²¡å¸‚'},
{name:'ä½è³€çœŒ', img:'saga.png', region:'ä¹å·åœ°æ–¹', hint:'ä½è³€å¸‚'},
{name:'é•·å´çœŒ', img:'nagasaki.png', region:'ä¹å·åœ°æ–¹', hint:'é•·å´å¸‚'},
{name:'ç†Šæœ¬çœŒ', img:'kumamoto.png', region:'ä¹å·åœ°æ–¹', hint:'ç†Šæœ¬å¸‚'},
{name:'å¤§åˆ†çœŒ', img:'oita.png', region:'ä¹å·åœ°æ–¹', hint:'å¤§åˆ†å¸‚'},
{name:'å®®å´çœŒ', img:'miyazaki.png', region:'ä¹å·åœ°æ–¹', hint:'å®®å´å¸‚'},
{name:'é¹¿å…å³¶çœŒ', img:'kagoshima.png', region:'ä¹å·åœ°æ–¹', hint:'é¹¿å…å³¶å¸‚'},
{name:'æ²–ç¸„çœŒ', img:'okinawa.png', region:'ä¹å·åœ°æ–¹', hint:'é‚£è¦‡å¸‚'}
];

let remainingPrefectures = [];
let currentPref, correctCount=0, totalCount=0;
const regionScore = {};
const prefImg=document.getElementById('prefImg');
const guessInput=document.getElementById('guess');
const checkBtn=document.getElementById('checkBtn');
const backBtn=document.getElementById('backBtn');
const resultEl=document.getElementById('result');
const scoreEl=document.getElementById('score');
const hintEl=document.getElementById('hint');
const hintBtn=document.getElementById('hintBtn');

hintBtn.onclick = () => {
  if(currentPref){
    hintEl.style.display='flex';
    hintEl.textContent = `ãƒ’ãƒ³ãƒˆï¼ˆçœŒåºæ‰€åœ¨åœ°ï¼‰ï¼š${currentPref.hint}`;
  }
};

backBtn.onclick = () => {
  document.getElementById('gameArea').style.display='none';
  document.getElementById('modeSelect').style.display='flex';
  remainingPrefectures = [];
  currentPref = null;
  correctCount = 0;
  totalCount = 0;
  for(const key in regionScore) delete regionScore[key];

  resultEl.textContent = '';
  scoreEl.textContent = '';
  hintEl.style.display='none';
  prefImg.src = '';
  guessInput.value = '';
};

function startMode(mode){
  let selectedPrefectures;
  if(mode==='all'){
    selectedPrefectures = [...prefectures];
  } else {
    selectedPrefectures = prefectures.filter(p=>{
      if(mode==='tohoku') return p.region==='æ±åŒ—åœ°æ–¹';
      if(mode==='kanto') return p.region==='é–¢æ±åœ°æ–¹';
      if(mode==='chubu') return p.region==='ä¸­éƒ¨åœ°æ–¹';
      if(mode==='kinki') return p.region==='è¿‘ç•¿åœ°æ–¹';
      if(mode==='chugoku') return p.region==='ä¸­å›½åœ°æ–¹';
      if(mode==='shikoku') return p.region==='å››å›½åœ°æ–¹';
      if(mode==='kyushu') return p.region==='ä¹å·åœ°æ–¹';
    });
  }

  remainingPrefectures = [...selectedPrefectures];
  correctCount=0;
  totalCount=0;
  for(const key in regionScore) delete regionScore[key];

  document.getElementById('modeSelect').style.display='none';
  document.getElementById('gameArea').style.display='flex';
  newQuestion();
}

function newQuestion(){
  if(remainingPrefectures.length === 0){
    let regionText = '';
    for(const region in regionScore){
      regionText += `${region} ${regionScore[region]}å•æ­£è§£\n`;
    }
    resultEl.textContent = `å…¨å•çµ‚äº†ï¼æ­£è§£ ${correctCount}/${totalCount} å•\n` + regionText;
    prefImg.src = 'otsukaresama.png';
    hintEl.style.display='none';
    return;
  }
  const index = Math.floor(Math.random()*remainingPrefectures.length);
  currentPref = remainingPrefectures[index];
  prefImg.src = currentPref.img;
  guessInput.value = '';
  resultEl.textContent = '';
  hintEl.style.display='none';
  remainingPrefectures.splice(index,1);
}

checkBtn.onclick=()=>{
  const answer=guessInput.value.trim();
  totalCount++;
  if(answer===currentPref.name){
    resultEl.textContent='æ­£è§£ï¼ğŸ‰';
    resultEl.className='correct';
    correctCount++;
    regionScore[currentPref.region] = (regionScore[currentPref.region] || 0) + 1;
  }else{
    resultEl.textContent=`ä¸æ­£è§£â€¦ æ­£è§£ã¯ ${currentPref.name}`;
    resultEl.className='wrong';
  }
  scoreEl.textContent=`æ­£è§£ ${correctCount} / ${totalCount} å•`;
  setTimeout(newQuestion,1000);
}
</script>
</body>
</html>
