<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>都道府県形当てゲーム（重複なし7県版）</title>
<style>
body{font-family:sans-serif;display:flex;flex-direction:column;align-items:center;margin:10px;}
#prefImg{width:90%;max-width:400px;margin:10px 0;border:1px solid #ccc;border-radius:8px;}
input,button{font-size:18px;padding:12px;margin:5px;border-radius:6px;width:90%;max-width:400px;}
.correct{color:#0a0;font-weight:bold;}
.wrong{color:#c00;font-weight:bold;}
#score{margin:5px;font-size:16px;}
</style>
</head>
<body>
<h2>都道府県の形を当てよう！</h2>

<img id="prefImg" src="" alt="都道府県の形">
<input type="text" id="guess" placeholder="都道府県名を入力">
<button id="checkBtn">答え合わせ</button>

<p id="result"></p>
<p id="score"></p>

<script>
// 7県分の画像データ
const prefectures = [
  {name:'北海道', img:'hokkaidou.png'},
  {name:'秋田県', img:'akita.png'},
  {name:'青森県', img:'aomori.png'},
  {name:'福島県', img:'fukushima.png'},
  {name:'岩手県', img:'iwate.png'},
  {name:'宮城県', img:'miyagi.png'},
  {name:'山形県', img:'yamagata.png'}
];

let remainingPrefectures = [...prefectures]; // 出題済み管理用
let currentPref, correctCount=0, totalCount=0;

const prefImg=document.getElementById('prefImg');
const guessInput=document.getElementById('guess');
const checkBtn=document.getElementById('checkBtn');
const resultEl=document.getElementById('result');
const scoreEl=document.getElementById('score');

function newQuestion(){
  if(remainingPrefectures.length === 0){
    resultEl.textContent = `全問終了！正解 ${correctCount} / ${totalCount} 問`;
    prefImg.src = '';
    return;
  }
  const index = Math.floor(Math.random()*remainingPrefectures.length);
  currentPref = remainingPrefectures[index];
  prefImg.src = currentPref.img;
  guessInput.value = '';
  resultEl.textContent = '';
  remainingPrefectures.splice(index,1); // 出題済みとして削除
}

checkBtn.onclick=()=>{
  const answer=guessInput.value.trim();
  totalCount++;
  if(answer===currentPref.name){
    resultEl.textContent='正解！🎉';
    resultEl.className='correct';
    correctCount++;
  }else{
    resultEl.textContent=`不正解… 正解は ${currentPref.name}`;
    resultEl.className='wrong';
  }
  scoreEl.textContent=`正解 ${correctCount} / ${totalCount} 問`;
  setTimeout(newQuestion,1000);
}

newQuestion();
</script>
</body>
</html>
